# Containment Checking

## Evelyn Griffith

## Program Output

### Report at least five examples of program output to demonstrate that your `containmentcheck` program works correctly

#### One output from running the `containmentcheck` program

```poetry run containmentcheck --size 5000 --maximum 50000000 --approach list --exceed```

```
‚ú® Conducting an experiment to measure the performance of containment checking!
         Type of the data container: list
         Size of the data container: 5000
         Maximum value for a number in the data container: 50000000
         Should the value to search for exceed the maximum number? Yes
         The random number that was generated is: 50000082

‚è±  Total time for running 10 runs in 3 benchmark campaigns: [0.0010742999999999725, 0.0015923999999999938, 0.0011578999999999895]

üßÆ Average time for running one of  10 runs in 3 benchmark campaigns: [0.00010742999999999726, 0.00015923999999999938, 0.00011578999999999894]
```

#### One output from running the `containmentcheck` program

```poetry run containmentcheck --size 10000 --maximum 50000000 --approach list --exceed```

```
‚ú® Conducting an experiment to measure the performance of containment checking!
         Type of the data container: list
         Size of the data container: 10000
         Maximum value for a number in the data container: 50000000
         Should the value to search for exceed the maximum number? Yes
         The random number that was generated is: 50000046

‚è±  Total time for running 10 runs in 3 benchmark campaigns: [0.00192869999999995, 0.001796999999999993, 0.0017988999999999922]

üßÆ Average time for running one of  10 runs in 3 benchmark campaigns: [0.000192869999999995, 0.0001796999999999993, 0.00017988999999999923]
```

#### One output from running the `containmentcheck` program

```poetry run containmentcheck --size 20000 --maximum 50000000 --approach list --exceed```

```
‚ú® Conducting an experiment to measure the performance of containment checking!
         Type of the data container: list
         Size of the data container: 20000
         Maximum value for a number in the data container: 50000000
         Should the value to search for exceed the maximum number? Yes
         The random number that was generated is: 50000035

‚è±  Total time for running 10 runs in 3 benchmark campaigns: [0.004365799999999975, 0.004335499999999992, 0.004289199999999993]

üßÆ Average time for running one of  10 runs in 3 benchmark campaigns: [0.0004365799999999975, 0.00043354999999999924, 0.0004289199999999993]
```

#### One output from running the `containmentcheck` program

```poetry run containmentcheck --size 5000 --maximum 50000000 --approach tuple --exceed```

```
‚ú® Conducting an experiment to measure the performance of containment checking!
         Type of the data container: tuple
         Size of the data container: 5000
         Maximum value for a number in the data container: 50000000
         Should the value to search for exceed the maximum number? Yes
         The random number that was generated is: 50000034

‚è±  Total time for running 10 runs in 3 benchmark campaigns: [0.0006615999999999844, 0.0006546000000000052, 0.00065670000000001]

üßÆ Average time for running one of  10 runs in 3 benchmark campaigns: [6.615999999999844e-05, 6.546000000000052e-05, 6.5670000000001e-05]
```

#### One output from running the `containmentcheck` program

```poetry run containmentcheck --size 10000 --maximum 50000000 --approach tuple --exceed```

```
‚ú® Conducting an experiment to measure the performance of containment checking!
         Type of the data container: tuple
         Size of the data container: 10000
         Maximum value for a number in the data container: 50000000
         Should the value to search for exceed the maximum number? Yes
         The random number that was generated is: 50000086

‚è±  Total time for running 10 runs in 3 benchmark campaigns: [0.00152979999999997, 0.0015025000000000177, 0.0015259999999999718]

üßÆ Average time for running one of  10 runs in 3 benchmark campaigns: [0.000152979999999997, 0.00015025000000000178, 0.00015259999999999718]
```

## Experiment Design

The experiment design that I chose to go with is focusing mainly on the data container size and whether or not the time difference is noticeable when changing the size of the container and also in reference to whether or not the selected number will exceed or not exceed the maximum in the container. Our experiment was designed as such. First, we would run the program as a --exceed command, which means that the number, which is randomly generated by the program, is going to be over the maximum value that was originally set for the container. For the purposes of this lab, I set the maximum value as the suggested 50,000,000. We run the --exceed command and use the data container called a list with the container value being 5000. Then we would run this same command again but with the data container being 10,000, and another time with it being 20,000. Then we would do the exact same thing with the set and tuple data containers and compare whether or not having a different size container mattered for each data container. Then we would use that to see which container is the fastest/most efficient when pertaining to the --exceed value. The experiment will also do the same thing but with a value that does not exceed the maximum. This is useful because it allows us to see the difference in time it takes for the computer to run through the who data container, as it would when using --exceed, versus taking its chances and trying to find a number that should be in the data container. That was the set up of the experiment that I decided to do.

## Research Questions

- RQ 1: How does the size of the container effect the run time of the program when the number being searched for doesn't exceed the maximum value? Look at a small container size of 5,000, a medium container size of 10,000, and a large container size of 20,000. Compare this by running with a list, set, and tuple.

- RQ 2: How does the size of the container effect the run time of the program when the number being searched for exceeds the maximum value(also consider this when talking about running for a list, set, and tuple)? Look at a small container size of 5,000, a medium container size of 10,000, and a large container size of 20,000.

- RQ 3: How does the size of the maximum value effect the run time of the program when the number being searched for exceeds the maximum value? Look at a small maximum value of 1,000,000 and a large maximum value of 100,000,000. Compare this by running with a list, set, and tuple.

## Data Tables

Morgan's Data:

| Exceed |  Size   |  Maximum    |  List Avg Time   |  Tuple Avg Time   |  Set Avg Time   |
| :----: | :-----: |:----------: | :--------------: | :---------------: | :-------------: |
|  Yes   | 5,000   | 50,000,000  |    0.0000718     |    0.0000537      |    0.0003426    |
|  No    | 5,000   | 50,000,000  |    0.0000726     |    0.0000533      |    0.0002412    |
|  Yes   | 10,000  | 50,000,000  |    0.0001607     |    0.0001375      |    0.0005095    |
|  No    | 10,000  | 50,000,000  |    0.0001207     |    0.0001030      |    0.0003612    |
|  Yes   | 20,000  | 50,000,000  |    0.0003311     |    0.0003213      |    0.0016860    |
|  No    | 20,000  | 50,000,000  |    0.0002190     |    0.0002293      |    0.0012891    |
|  Yes   | 10,000  |  1,000,000  |    0.0001101     |    0.0001104      |    0.0005593    |
|  Yes   | 10,000  | 100,000,000 |    0.0001250     |    0.0001362      |    0.0004421    |

Evelyn's Data:

| Exceed |  Size   |  Maximum    |  List Avg Time   |  Tuple Avg Time   |  Set Avg Time   |
| :----: | :-----: |:----------: | :--------------: | :---------------: | :-------------: |
|  Yes   | 5,000   | 50,000,000  |    0.0002655     |    0.0002007      |    0.0011667    |
|  No    | 5,000   | 50,000,000  |    0.0002413     |    0.0001928      |    0.001412     |
|  Yes   | 10,000  | 50,000,000  |    0.0004271     |    0.0003941      |    0.0016538    |
|  No    | 10,000  | 50,000,000  |    0.0004556     |    0.0004065      |    0.0023503    |
|  Yes   | 20,000  | 50,000,000  |    0.0006999     |    0.0007613      |    0.0045198    |
|  No    | 20,000  | 50,000,000  |    0.0008031     |    0.0006611      |    0.0049666    |
|  Yes   | 10,000  |  1,000,000  |    0.0002475     |    0.0004405      |    0.0016763    |
|  Yes   | 10,000  | 100,000,000 |    0.0002419     |    0.0003157      |    0.0016750    |

## Performance Analysis

### Empirical Evaluation

Through my experiment, I have been able to deduce that the Tuple data container is the fastest, overall, when it comes to running this code.

- RQ 1: How does the size of the container effect the run time of the program when the number being searched for doesn't exceed the maximum value? Look at a small container size of 5,000, a medium container size of 10,000, and a large container size of 20,000. Compare this by running with a list, set, and tuple.

This data says that the tuple at 5,000, 10,000, and 20,000 when not using exceed is: 0.0001928, 0.0004065, and 0.0006611.
Also that the List at 5,000, 10,000, and 20,000 when not using exceed is: 0.0002413, 0.0004556, and 0.0008031.
And finally that Set at 5,000, 10,000, and 20,000 when not using exceed is: 0.001412, 0.0023503, and 0.0049666.

To begin, I would like to look at RQ 1. When trying to answer this experimental question, I specifically ran this command: `poetry run containmentcheck --size 5000 --maximum 50000000 --approach list`. However, in order to collect the data for this experiment, I decided the change the "--size". In order to collect the needed data, I changed the command so that the container was 5000, 10000, and 20000. This allowed me to see whether the average time it took for the computer to iterate through the container was changed by the size of the container when not using the exceed function. Overall, I think it is rather hard to say whether or not the size of the container changed this part of the data collection process. When the computer is searching for a specific number that may or may not be in the container, there is no way of knowing where in the list the number would pop up. This means that we can never really say whether or not the program ran faster in a certain container because we dont know if the program just happened to stumbled upon the number early in the container or not. However, when pertaining to this question, I found that the fastest data container type in general was the tuple. The set data container was absolutely the slowest data container type overall and this makes sense because the Set has to change the list into a Set and then iterate through everything, whereas the other two do not have to do that. However, the Tuple was faster than the list. 

- RQ 2: How does the size of the container effect the run time of the program when the number being searched for exceeds the maximum value(also consider this when talking about running for a list, set, and tuple)? Look at a small container size of 5,000, a medium container size of 10,000, and a large container size of 20,000.

This data says that the tuple at 5,000, 10,000, and 20,000 when using exceed is: , , and .
Also that the List at 5,000, 10,000, and 20,000 when using exceed is: , , and .
And finally that Set at 5,000, 10,000, and 20,000 when using exceed is: , , and .

The size of the container matters a whole lot more in this question because of the fact that we are using the "--exceed" part of the command. The --exceed part of the run command is very important because it allows us to run through the entire container when searching for a number in the container. For example, if the data container maximum was set to 5, then all numbers in the container would be below the number 5. If i told the code to search for the number 7, then inevitably the program would be forced to run through the entire container because 7 does not exist within the container. This means that if the container can only hold 100 numbers the program will inevitably be faster than if the container can contain 50,000,000 numbers. The --exceed ensures that the progam will run through the entire container so it is also very useful because the issue that was discussed in the previous code can actually be negated. If I ensure that the program will inevitably run through 100 slots, then I know that all of my data will have less variables determining why it is different and I can ensure that my data is the most similar that it can get apart from the data that I am trying to collect. When looking at this question, the Tuple data container is still the fastest, list is the second fastest, and Set is the slowest.

- RQ 3: How does the size of the maximum value effect the run time of the program when the number being searched for exceeds the maximum value? Look at a small maximum value of 1,000,000 and a large maximum value of 100,000,000. Compare this by running with a list, set, and tuple.

This data says that the tuple at 5,000, 10,000, and 20,000 when using exceed is: , , and .
Also that the List at 5,000, 10,000, and 20,000 when using exceed is: , , and .
And finally that Set at 5,000, 10,000, and 20,000 when using exceed is: , , and .

When considering RQ 3, we are thinking about a different issue. This question deals with maximums as opposed to dealing with the container sizes. When looking at the table, this is quite interesting because we can see little to no difference in time overhead when looking at the different maximum sizes. Notice in the bottom two lines of the table, that the only differences in time for the code are between about 0.0000030 and 0.0000060 seconds. This makes sense, because when thinking about the data container that is able to hold 10,000 different numbers, if the container is holding numbers up to 1,000,000 or 100,000,000 million shouldn't matter. If there are only 10,000 slots in the container and 1,000,000 numbers to choose from the likelyhood that the number that the random number generator function produces will be in the container is exceedingly low. However, if the maximum is 100,000,000 that chance is lower still. However, what I find interesting is that after a certain point, it doesnt seem to matter how many different number there are because the container can only hold so many. What I wish I had looked into further is at what point does it stop mattering whether or not the maximum increases if the container remains the same size, and furthermore, what does the gap in those numbers say about each individual type of data container.

### Analytical Evaluation

In order to do our analytical evaluation, I decided to do the necessary doubling experiment using the data from the previous table. I took the data when the container is sized at 5,000 and 10,000 and used the average time to determine the doubling ratio for each data container type when the generated number does exceed the maximum. This is how I determined the worst cases for each type of data contaner.

The doubling ratio for the list data container when the container sizes are 5,000 and 10,000 and we do not use exceed is 0.0004271 / 0.0002655 = 1.6086629 which is about 2. Therefore, O(n) = 2.

The doubling ratio for the tuple data container when the container sizes are 5,000 and 10,000 and we do not use exceed is 0.0003941 / 0.0002007 = 1.9636274 which is about 2. Therefore, O(n) = 2.

The doubling ratio for the set data container when the container sizes are 5,000 and 10,000 and we do not use exceed is 0.0016538 / 0.0011667 = 1.417502357 which is about 1. Therefore, O(n) = 1.

## Source Code

### Describe in detail how the provided source code works

```python
number_runs = 10
number_repeats = 3
execution_times = timeit.Timer(containment_check_lambda).repeat(
    repeat=number_repeats, number=number_runs
```

This source code is telling the computer that it needs to run the program 10 times for each repeat and then repeat through that another three times. This is shown in lines one and two of the example. The code is also telling the computer that it needs to time each run using the timeit.Timer part of the code which is a python import. This import allows the data to be collected while the program is running and will eventually be displayable through the cli function in the main.py file. The execution_times variable is very useful because it also allows the timer to collect data based on the repeates and then display the average times so that we dont have 30 different times printed at the output.

## Professional Development

### What is challenging about designing an experiment to evaluate an algorithm's performance?

I think the most challenging thing about designing an experiment is that you have to think about the output that you have to understand what you are trying to accomplish (along with the code you wrote) so well that you can develop a question to answer that is attainable for the code you wrote, as well as is something that the code doesnt already tell you. My biggest struggle with developing/designing my experiment was that I didnt, at first, have enough foundational knowledge of what each peice of code was doing and how the experiment should function to give me an answer to the questions I was trying to develop. At first I didnt quite understand what it meant for the program value to "exceed" or "not exceed" the maximum and that made it especially tricky to try and develop a question revolving around that.

### Why is it necessary to perform both an analytical and an empirical evaluation of an algorithm?

I think it is necessary to do this because you can't always rely on the code to tell you everything you need to know through just the output. I think knowing how to deduce things from the code you have written is exceedingly important and being able to draw conclusions without seeing an output can be very helpful becuase it can not only give you more backing for your answers but it can also tell you when your output for the code may have gone awry.

Similarly I think that running empirical evaluations of code can be just as important because getting an ouput can also be one of the best ways to run an experiment and get the data you need to answer important/difficult questions.

### How do the empirical results suggest that you don't yet know the entire story about the performance of containment checking?

